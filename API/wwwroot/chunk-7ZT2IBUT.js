import{a as A}from"./chunk-BP7F4AWI.js";import{a as h}from"./chunk-YU3FMOKV.js";import{b as M}from"./chunk-AERLV3S3.js";import{a as V}from"./chunk-XKHRWAEO.js";import{C,F,G as y,I as N,K as w,M as q,Q as P,S as k,u as L,w as p,y as S,z as x}from"./chunk-HH43WFWK.js";import{h as U,ha as v,j as b}from"./chunk-4T5HOBQW.js";import"./chunk-JGYM447R.js";import{Db as R,Eb as G,Gb as I,Hb as T,Ib as r,Jb as i,Kb as c,Rb as f,Tb as B,bb as l,bc as a,cc as D,jc as g,ka as o,oa as d,wb as _,yb as u}from"./chunk-SA4P2CAX.js";var j=(()=>{let t=class t{constructor(){this.fb=o(N),this.accountService=o(M),this.router=o(b),this.activatedRoute=o(U),this.returnUrl="/shop",this.loginForm=this.fb.group({email:[""],password:[""]});let m=this.activatedRoute.snapshot.queryParams.returnUrl;m&&(this.returnUrl=m)}onSubmit(){this.accountService.login(this.loginForm.value).subscribe({next:()=>{this.accountService.getUserInfo().subscribe(),this.router.navigateByUrl(this.returnUrl)}})}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=d({type:t,selectors:[["app-login"]],standalone:!0,features:[g],decls:15,vars:1,consts:[[1,"max-w-lg","mx-auto","mt-32","p-8","bg-white"],[3,"ngSubmit","formGroup"],[1,"text-center","mb-6"],[1,"text-3xl","font-semibold","text-primary"],["appearance","outline",1,"w-full","mb-4"],["formControlName","email","type","email","placeholder","name@example.com","matInput",""],["formControlName","password","type","password","placeholder","Password","matInput",""],["mat-flat-button","","type","submit",1,"w-full","py-2"]],template:function(n,s){n&1&&(r(0,"mat-card",0)(1,"form",1),f("ngSubmit",function(){return s.onSubmit()}),r(2,"div",2)(3,"h1",3),a(4,"Login"),i()(),r(5,"mat-form-field",4)(6,"mat-label"),a(7,"Email address"),i(),c(8,"input",5),i(),r(9,"mat-form-field",4)(10,"mat-label"),a(11,"Password"),i(),c(12,"input",6),i(),r(13,"button",7),a(14,"Sign in"),i()()()),n&2&&(l(),u("formGroup",s.loginForm))},dependencies:[w,C,L,S,x,F,y,h,P,k,q,v]});let e=t;return e})();function K(e,t){if(e&1&&(r(0,"li"),a(1),i()),e&2){let E=t.$implicit;l(),D(E)}}function O(e,t){if(e&1&&(r(0,"div",8)(1,"ul",10),I(2,K,2,1,"li",null,G),i()()),e&2){let E=B();l(2),T(E.validationErrors)}}var J=(()=>{let t=class t{constructor(){this.fb=o(N),this.accountService=o(M),this.router=o(b),this.snack=o(A),this.registerForm=this.fb.group({firstName:["",p.required],lastName:["",p.required],email:["",[p.required,p.email]],password:["",p.required]})}onSubmit(){this.accountService.register(this.registerForm.value).subscribe({next:()=>{this.snack.success("Registration successful - you can now login"),this.router.navigateByUrl("/account/login")},error:m=>this.validationErrors=m})}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=d({type:t,selectors:[["app-register"]],standalone:!0,features:[g],decls:12,vars:3,consts:[[1,"max-w-lg","mx-auto","mt-32","p-8","bg-white"],[3,"ngSubmit","formGroup"],[1,"text-center","mb-6"],[1,"text-3xl","font-semibold","text-primary"],["label","First name","formControlName","firstName"],["label","Last name","formControlName","lastName"],["label","Email address","formControlName","email"],["label","Password","formControlName","password","type","password"],[1,"mb-3","p-4","bg-red-100","text-red-600"],["mat-flat-button","","type","submit",1,"w-full","py-2",3,"disabled"],[1,"list-disc","px-3"]],template:function(n,s){n&1&&(r(0,"mat-card",0)(1,"form",1),f("ngSubmit",function(){return s.onSubmit()}),r(2,"div",2)(3,"h1",3),a(4,"Register"),i()(),c(5,"app-text-input",4)(6,"app-text-input",5)(7,"app-text-input",6)(8,"app-text-input",7),_(9,O,4,0,"div",8),r(10,"button",9),a(11,"Register"),i()()()),n&2&&(l(),u("formGroup",s.registerForm),l(8),R(s.validationErrors?9:-1),l(),u("disabled",s.registerForm.invalid))},dependencies:[w,C,S,x,F,y,h,v,V]});let e=t;return e})();var vt=[{path:"login",component:j},{path:"register",component:J}];export{vt as accountRoutes};
